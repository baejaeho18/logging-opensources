Compiled from "TagStateRouter.java"
public class org.apache.dubbo.rpc.cluster.router.tag.TagStateRouter<T> extends org.apache.dubbo.rpc.cluster.router.state.AbstractStateRouter<T> implements org.apache.dubbo.common.config.configcenter.ConfigurationListener {
  public static final java.lang.String NAME;

  private static final org.apache.dubbo.common.logger.ErrorTypeAwareLogger logger;

  private static final java.lang.String RULE_SUFFIX;

  private volatile org.apache.dubbo.rpc.cluster.router.tag.model.TagRouterRule tagRouterRule;

  private java.lang.String application;

  private volatile org.apache.dubbo.rpc.cluster.router.state.BitList<org.apache.dubbo.rpc.Invoker<T>> invokers;

  public org.apache.dubbo.rpc.cluster.router.tag.TagStateRouter(org.apache.dubbo.common.URL);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #4                  // Method org/apache/dubbo/rpc/cluster/router/state/AbstractStateRouter."<init>":(Lorg/apache/dubbo/common/URL;)V
       5: aload_0
       6: invokestatic  #5                  // Method org/apache/dubbo/rpc/cluster/router/state/BitList.emptyList:()Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
       9: putfield      #6                  // Field invokers:Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
      12: return

  public synchronized void process(org.apache.dubbo.common.config.configcenter.ConfigChangedEvent);
    Code:
       0: getstatic     #7                  // Field logger:Lorg/apache/dubbo/common/logger/ErrorTypeAwareLogger;
       3: invokeinterface #8,  1            // InterfaceMethod org/apache/dubbo/common/logger/ErrorTypeAwareLogger.isDebugEnabled:()Z
       8: ifeq          53
      11: getstatic     #7                  // Field logger:Lorg/apache/dubbo/common/logger/ErrorTypeAwareLogger;
      14: new           #9                  // class java/lang/StringBuilder
      17: dup
      18: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      21: ldc           #11                 // String Notification of tag rule, change type is:
      23: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: aload_1
      27: invokevirtual #13                 // Method org/apache/dubbo/common/config/configcenter/ConfigChangedEvent.getChangeType:()Lorg/apache/dubbo/common/config/configcenter/ConfigChangeType;
      30: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      33: ldc           #15                 // String , raw rule is:\n
      35: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: aload_1
      39: invokevirtual #16                 // Method org/apache/dubbo/common/config/configcenter/ConfigChangedEvent.getContent:()Ljava/lang/String;
      42: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      48: invokeinterface #18,  2           // InterfaceMethod org/apache/dubbo/common/logger/ErrorTypeAwareLogger.debug:(Ljava/lang/String;)V
      53: aload_1
      54: invokevirtual #13                 // Method org/apache/dubbo/common/config/configcenter/ConfigChangedEvent.getChangeType:()Lorg/apache/dubbo/common/config/configcenter/ConfigChangeType;
      57: getstatic     #19                 // Field org/apache/dubbo/common/config/configcenter/ConfigChangeType.DELETED:Lorg/apache/dubbo/common/config/configcenter/ConfigChangeType;
      60: invokevirtual #20                 // Method org/apache/dubbo/common/config/configcenter/ConfigChangeType.equals:(Ljava/lang/Object;)Z
      63: ifeq          74
      66: aload_0
      67: aconst_null
      68: putfield      #21                 // Field tagRouterRule:Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;
      71: goto          92
      74: aload_1
      75: invokevirtual #16                 // Method org/apache/dubbo/common/config/configcenter/ConfigChangedEvent.getContent:()Ljava/lang/String;
      78: invokestatic  #22                 // Method org/apache/dubbo/rpc/cluster/router/tag/model/TagRuleParser.parse:(Ljava/lang/String;)Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;
      81: astore_2
      82: aload_2
      83: aload_0
      84: invokevirtual #23                 // Method org/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule.init:(Lorg/apache/dubbo/rpc/cluster/router/tag/TagStateRouter;)V
      87: aload_0
      88: aload_2
      89: putfield      #21                 // Field tagRouterRule:Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;
      92: goto          113
      95: astore_2
      96: getstatic     #7                  // Field logger:Lorg/apache/dubbo/common/logger/ErrorTypeAwareLogger;
      99: ldc           #25                 // String 2-11
     101: ldc           #26                 // String Failed to parse the raw tag router rule
     103: ldc           #27                 // String
     105: ldc           #28                 // String Failed to parse the raw tag router rule and it will not take effect, please check if the rule matches with the template, the raw rule is:\n
     107: aload_2
     108: invokeinterface #29,  6           // InterfaceMethod org/apache/dubbo/common/logger/ErrorTypeAwareLogger.error:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
     113: return
    Exception table:
       from    to  target type
          53    92    95   Class java/lang/Exception

  public org.apache.dubbo.rpc.cluster.router.state.BitList<org.apache.dubbo.rpc.Invoker<T>> doRoute(org.apache.dubbo.rpc.cluster.router.state.BitList<org.apache.dubbo.rpc.Invoker<T>>, org.apache.dubbo.common.URL, org.apache.dubbo.rpc.Invocation, boolean, org.apache.dubbo.common.utils.Holder<org.apache.dubbo.rpc.cluster.router.RouterSnapshotNode<T>>, org.apache.dubbo.common.utils.Holder<java.lang.String>) throws org.apache.dubbo.rpc.RpcException;
    Code:
       0: aload_1
       1: invokestatic  #30                 // Method org/apache/dubbo/common/utils/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
       4: ifeq          21
       7: iload         4
       9: ifeq          19
      12: aload         6
      14: ldc           #31                 // String Directly Return. Reason: Invokers from previous router is empty.
      16: invokevirtual #32                 // Method org/apache/dubbo/common/utils/Holder.set:(Ljava/lang/Object;)V
      19: aload_1
      20: areturn
      21: aload_0
      22: getfield      #21                 // Field tagRouterRule:Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;
      25: astore        7
      27: aload         7
      29: ifnull        48
      32: aload         7
      34: invokevirtual #33                 // Method org/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule.isValid:()Z
      37: ifeq          48
      40: aload         7
      42: invokevirtual #34                 // Method org/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule.isEnabled:()Z
      45: ifne          68
      48: iload         4
      50: ifeq          60
      53: aload         6
      55: ldc           #35                 // String Disable Tag Router. Reason: tagRouterRule is invalid or disabled
      57: invokevirtual #32                 // Method org/apache/dubbo/common/utils/Holder.set:(Ljava/lang/Object;)V
      60: aload_0
      61: aload_1
      62: aload_2
      63: aload_3
      64: invokespecial #36                 // Method filterUsingStaticTag:(Lorg/apache/dubbo/rpc/cluster/router/state/BitList;Lorg/apache/dubbo/common/URL;Lorg/apache/dubbo/rpc/Invocation;)Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
      67: areturn
      68: aload_1
      69: astore        8
      71: aload_3
      72: ldc           #37                 // String dubbo.tag
      74: invokeinterface #38,  2           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getAttachment:(Ljava/lang/String;)Ljava/lang/String;
      79: invokestatic  #39                 // Method org/apache/dubbo/common/utils/StringUtils.isEmpty:(Ljava/lang/String;)Z
      82: ifeq          94
      85: aload_2
      86: ldc           #37                 // String dubbo.tag
      88: invokevirtual #40                 // Method org/apache/dubbo/common/URL.getParameter:(Ljava/lang/String;)Ljava/lang/String;
      91: goto          102
      94: aload_3
      95: ldc           #37                 // String dubbo.tag
      97: invokeinterface #38,  2           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getAttachment:(Ljava/lang/String;)Ljava/lang/String;
     102: astore        9
     104: aload         9
     106: invokestatic  #41                 // Method org/apache/dubbo/common/utils/StringUtils.isNotEmpty:(Ljava/lang/String;)Z
     109: ifeq          310
     112: aload         7
     114: invokevirtual #42                 // Method org/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule.getTagnameToAddresses:()Ljava/util/Map;
     117: aload         9
     119: invokeinterface #43,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     124: checkcast     #44                 // class java/util/Set
     127: astore        10
     129: aload         10
     131: ifnull        203
     134: aload_0
     135: aload_1
     136: aload_0
     137: aload         10
     139: invokedynamic #45,  0             // InvokeDynamic #0:test:(Lorg/apache/dubbo/rpc/cluster/router/tag/TagStateRouter;Ljava/util/Set;)Ljava/util/function/Predicate;
     144: invokespecial #46                 // Method filterInvoker:(Lorg/apache/dubbo/rpc/cluster/router/state/BitList;Ljava/util/function/Predicate;)Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
     147: astore        8
     149: aload         8
     151: invokestatic  #47                 // Method org/apache/dubbo/common/utils/CollectionUtils.isNotEmpty:(Ljava/util/Collection;)Z
     154: ifne          165
     157: aload         7
     159: invokevirtual #48                 // Method org/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule.isForce:()Z
     162: ifeq          217
     165: iload         4
     167: ifeq          200
     170: aload         6
     172: new           #9                  // class java/lang/StringBuilder
     175: dup
     176: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     179: ldc           #49                 // String Use tag
     181: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     184: aload         9
     186: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     189: ldc           #50                 // String  to route. Reason: result is not null OR it\'s null but force=true
     191: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     194: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     197: invokevirtual #32                 // Method org/apache/dubbo/common/utils/Holder.set:(Ljava/lang/Object;)V
     200: aload         8
     202: areturn
     203: aload_0
     204: aload_1
     205: aload         9
     207: invokedynamic #51,  0             // InvokeDynamic #1:test:(Ljava/lang/String;)Ljava/util/function/Predicate;
     212: invokespecial #46                 // Method filterInvoker:(Lorg/apache/dubbo/rpc/cluster/router/state/BitList;Ljava/util/function/Predicate;)Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
     215: astore        8
     217: aload         8
     219: invokestatic  #47                 // Method org/apache/dubbo/common/utils/CollectionUtils.isNotEmpty:(Ljava/util/Collection;)Z
     222: ifne          233
     225: aload_0
     226: aload_3
     227: invokespecial #52                 // Method isForceUseTag:(Lorg/apache/dubbo/rpc/Invocation;)Z
     230: ifeq          271
     233: iload         4
     235: ifeq          268
     238: aload         6
     240: new           #9                  // class java/lang/StringBuilder
     243: dup
     244: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     247: ldc           #49                 // String Use tag
     249: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     252: aload         9
     254: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     257: ldc           #53                 // String  to route. Reason: result is not empty or ForceUseTag key is true in invocation
     259: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     262: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     265: invokevirtual #32                 // Method org/apache/dubbo/common/utils/Holder.set:(Ljava/lang/Object;)V
     268: aload         8
     270: areturn
     271: aload_0
     272: aload_1
     273: aload_0
     274: aload         7
     276: invokedynamic #54,  0             // InvokeDynamic #2:test:(Lorg/apache/dubbo/rpc/cluster/router/tag/TagStateRouter;Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;)Ljava/util/function/Predicate;
     281: invokespecial #46                 // Method filterInvoker:(Lorg/apache/dubbo/rpc/cluster/router/state/BitList;Ljava/util/function/Predicate;)Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
     284: astore        11
     286: iload         4
     288: ifeq          298
     291: aload         6
     293: ldc           #55                 // String FAILOVER: return all Providers without any tags
     295: invokevirtual #32                 // Method org/apache/dubbo/common/utils/Holder.set:(Ljava/lang/Object;)V
     298: aload_0
     299: aload         11
     301: invokedynamic #56,  0             // InvokeDynamic #3:test:()Ljava/util/function/Predicate;
     306: invokespecial #46                 // Method filterInvoker:(Lorg/apache/dubbo/rpc/cluster/router/state/BitList;Ljava/util/function/Predicate;)Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
     309: areturn
     310: aload         7
     312: invokevirtual #57                 // Method org/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule.getAddresses:()Ljava/util/Set;
     315: astore        10
     317: aload         10
     319: invokestatic  #47                 // Method org/apache/dubbo/common/utils/CollectionUtils.isNotEmpty:(Ljava/util/Collection;)Z
     322: ifeq          363
     325: aload_0
     326: aload_1
     327: aload_0
     328: aload         10
     330: invokedynamic #58,  0             // InvokeDynamic #4:test:(Lorg/apache/dubbo/rpc/cluster/router/tag/TagStateRouter;Ljava/util/Set;)Ljava/util/function/Predicate;
     335: invokespecial #46                 // Method filterInvoker:(Lorg/apache/dubbo/rpc/cluster/router/state/BitList;Ljava/util/function/Predicate;)Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
     338: astore        8
     340: aload         8
     342: invokestatic  #30                 // Method org/apache/dubbo/common/utils/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
     345: ifeq          363
     348: iload         4
     350: ifeq          360
     353: aload         6
     355: ldc           #59                 // String all addresses are in dynamic tag group, return empty list
     357: invokevirtual #32                 // Method org/apache/dubbo/common/utils/Holder.set:(Ljava/lang/Object;)V
     360: aload         8
     362: areturn
     363: iload         4
     365: ifeq          375
     368: aload         6
     370: ldc           #60                 // String filter using the static tag group
     372: invokevirtual #32                 // Method org/apache/dubbo/common/utils/Holder.set:(Ljava/lang/Object;)V
     375: aload_0
     376: aload         8
     378: invokedynamic #61,  0             // InvokeDynamic #5:test:()Ljava/util/function/Predicate;
     383: invokespecial #46                 // Method filterInvoker:(Lorg/apache/dubbo/rpc/cluster/router/state/BitList;Ljava/util/function/Predicate;)Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
     386: areturn

  private <T> org.apache.dubbo.rpc.cluster.router.state.BitList<org.apache.dubbo.rpc.Invoker<T>> filterUsingStaticTag(org.apache.dubbo.rpc.cluster.router.state.BitList<org.apache.dubbo.rpc.Invoker<T>>, org.apache.dubbo.common.URL, org.apache.dubbo.rpc.Invocation);
    Code:
       0: aload_3
       1: ldc           #37                 // String dubbo.tag
       3: invokeinterface #38,  2           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getAttachment:(Ljava/lang/String;)Ljava/lang/String;
       8: invokestatic  #39                 // Method org/apache/dubbo/common/utils/StringUtils.isEmpty:(Ljava/lang/String;)Z
      11: ifeq          23
      14: aload_2
      15: ldc           #37                 // String dubbo.tag
      17: invokevirtual #40                 // Method org/apache/dubbo/common/URL.getParameter:(Ljava/lang/String;)Ljava/lang/String;
      20: goto          31
      23: aload_3
      24: ldc           #37                 // String dubbo.tag
      26: invokeinterface #38,  2           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getAttachment:(Ljava/lang/String;)Ljava/lang/String;
      31: astore        5
      33: aload         5
      35: invokestatic  #39                 // Method org/apache/dubbo/common/utils/StringUtils.isEmpty:(Ljava/lang/String;)Z
      38: ifne          86
      41: aload_0
      42: aload_1
      43: aload         5
      45: invokedynamic #62,  0             // InvokeDynamic #6:test:(Ljava/lang/String;)Ljava/util/function/Predicate;
      50: invokespecial #46                 // Method filterInvoker:(Lorg/apache/dubbo/rpc/cluster/router/state/BitList;Ljava/util/function/Predicate;)Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
      53: astore        4
      55: aload         4
      57: invokestatic  #30                 // Method org/apache/dubbo/common/utils/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      60: ifeq          98
      63: aload_0
      64: aload_3
      65: invokespecial #52                 // Method isForceUseTag:(Lorg/apache/dubbo/rpc/Invocation;)Z
      68: ifne          98
      71: aload_0
      72: aload_1
      73: invokedynamic #63,  0             // InvokeDynamic #7:test:()Ljava/util/function/Predicate;
      78: invokespecial #46                 // Method filterInvoker:(Lorg/apache/dubbo/rpc/cluster/router/state/BitList;Ljava/util/function/Predicate;)Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
      81: astore        4
      83: goto          98
      86: aload_0
      87: aload_1
      88: invokedynamic #64,  0             // InvokeDynamic #8:test:()Ljava/util/function/Predicate;
      93: invokespecial #46                 // Method filterInvoker:(Lorg/apache/dubbo/rpc/cluster/router/state/BitList;Ljava/util/function/Predicate;)Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
      96: astore        4
      98: aload         4
     100: areturn

  public boolean isRuntime();
    Code:
       0: aload_0
       1: getfield      #21                 // Field tagRouterRule:Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;
       4: ifnull        21
       7: aload_0
       8: getfield      #21                 // Field tagRouterRule:Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;
      11: invokevirtual #65                 // Method org/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule.isRuntime:()Z
      14: ifeq          21
      17: iconst_1
      18: goto          22
      21: iconst_0
      22: ireturn

  public boolean isForce();
    Code:
       0: aload_0
       1: getfield      #21                 // Field tagRouterRule:Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;
       4: ifnull        21
       7: aload_0
       8: getfield      #21                 // Field tagRouterRule:Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;
      11: invokevirtual #48                 // Method org/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule.isForce:()Z
      14: ifeq          21
      17: iconst_1
      18: goto          22
      21: iconst_0
      22: ireturn

  private boolean isForceUseTag(org.apache.dubbo.rpc.Invocation);
    Code:
       0: aload_1
       1: ldc           #66                 // String dubbo.force.tag
       3: aload_0
       4: invokevirtual #67                 // Method getUrl:()Lorg/apache/dubbo/common/URL;
       7: ldc           #66                 // String dubbo.force.tag
       9: ldc           #68                 // String false
      11: invokevirtual #69                 // Method org/apache/dubbo/common/URL.getParameter:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      14: invokeinterface #70,  3           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getAttachment:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      19: invokestatic  #71                 // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
      22: ireturn

  private <T> org.apache.dubbo.rpc.cluster.router.state.BitList<org.apache.dubbo.rpc.Invoker<T>> filterInvoker(org.apache.dubbo.rpc.cluster.router.state.BitList<org.apache.dubbo.rpc.Invoker<T>>, java.util.function.Predicate<org.apache.dubbo.rpc.Invoker<T>>);
    Code:
       0: aload_1
       1: invokevirtual #72                 // Method org/apache/dubbo/rpc/cluster/router/state/BitList.stream:()Ljava/util/stream/Stream;
       4: aload_2
       5: invokeinterface #73,  2           // InterfaceMethod java/util/stream/Stream.allMatch:(Ljava/util/function/Predicate;)Z
      10: ifeq          15
      13: aload_1
      14: areturn
      15: aload_1
      16: invokevirtual #74                 // Method org/apache/dubbo/rpc/cluster/router/state/BitList.clone:()Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
      19: astore_3
      20: aload_3
      21: aload_2
      22: invokedynamic #75,  0             // InvokeDynamic #9:test:(Ljava/util/function/Predicate;)Ljava/util/function/Predicate;
      27: invokevirtual #76                 // Method org/apache/dubbo/rpc/cluster/router/state/BitList.removeIf:(Ljava/util/function/Predicate;)Z
      30: pop
      31: aload_3
      32: areturn

  private boolean addressMatches(org.apache.dubbo.common.URL, java.util.Set<java.lang.String>);
    Code:
       0: aload_2
       1: ifnull        24
       4: aload_0
       5: aload_2
       6: aload_1
       7: invokevirtual #77                 // Method org/apache/dubbo/common/URL.getHost:()Ljava/lang/String;
      10: aload_1
      11: invokevirtual #78                 // Method org/apache/dubbo/common/URL.getPort:()I
      14: invokespecial #79                 // Method checkAddressMatch:(Ljava/util/Set;Ljava/lang/String;I)Z
      17: ifeq          24
      20: iconst_1
      21: goto          25
      24: iconst_0
      25: ireturn

  private boolean addressNotMatches(org.apache.dubbo.common.URL, java.util.Set<java.lang.String>);
    Code:
       0: aload_2
       1: ifnull        20
       4: aload_0
       5: aload_2
       6: aload_1
       7: invokevirtual #77                 // Method org/apache/dubbo/common/URL.getHost:()Ljava/lang/String;
      10: aload_1
      11: invokevirtual #78                 // Method org/apache/dubbo/common/URL.getPort:()I
      14: invokespecial #79                 // Method checkAddressMatch:(Ljava/util/Set;Ljava/lang/String;I)Z
      17: ifne          24
      20: iconst_1
      21: goto          25
      24: iconst_0
      25: ireturn

  private boolean checkAddressMatch(java.util.Set<java.lang.String>, java.lang.String, int);
    Code:
       0: aload_1
       1: invokeinterface #80,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
       6: astore        4
       8: aload         4
      10: invokeinterface #81,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      15: ifeq          115
      18: aload         4
      20: invokeinterface #82,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #83                 // class java/lang/String
      28: astore        5
      30: aload         5
      32: aload_2
      33: iload_3
      34: invokestatic  #84                 // Method org/apache/dubbo/common/utils/NetUtils.matchIpExpression:(Ljava/lang/String;Ljava/lang/String;I)Z
      37: ifeq          42
      40: iconst_1
      41: ireturn
      42: new           #9                  // class java/lang/StringBuilder
      45: dup
      46: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      49: ldc           #85                 // String 0.0.0.0:
      51: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      54: iload_3
      55: invokevirtual #86                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      58: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      61: aload         5
      63: invokevirtual #87                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      66: ifeq          71
      69: iconst_1
      70: ireturn
      71: goto          112
      74: astore        6
      76: getstatic     #7                  // Field logger:Lorg/apache/dubbo/common/logger/ErrorTypeAwareLogger;
      79: ldc           #25                 // String 2-11
      81: ldc           #88                 // String tag route address is invalid
      83: ldc           #27                 // String
      85: new           #9                  // class java/lang/StringBuilder
      88: dup
      89: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      92: ldc           #89                 // String The format of ip address is invalid in tag route. Address :
      94: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      97: aload         5
      99: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     102: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     105: aload         6
     107: invokeinterface #29,  6           // InterfaceMethod org/apache/dubbo/common/logger/ErrorTypeAwareLogger.error:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
     112: goto          8
     115: iconst_0
     116: ireturn
    Exception table:
       from    to  target type
          30    41    74   Class java/lang/Exception
          42    70    74   Class java/lang/Exception

  public void setApplication(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #90                 // Field application:Ljava/lang/String;
       5: return

  public void notify(org.apache.dubbo.rpc.cluster.router.state.BitList<org.apache.dubbo.rpc.Invoker<T>>);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #6                  // Field invokers:Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
       5: aload_1
       6: invokestatic  #30                 // Method org/apache/dubbo/common/utils/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
       9: ifeq          13
      12: return
      13: aload_1
      14: iconst_0
      15: invokevirtual #91                 // Method org/apache/dubbo/rpc/cluster/router/state/BitList.get:(I)Ljava/lang/Object;
      18: checkcast     #92                 // class org/apache/dubbo/rpc/Invoker
      21: astore_2
      22: aload_2
      23: invokeinterface #93,  1           // InterfaceMethod org/apache/dubbo/rpc/Invoker.getUrl:()Lorg/apache/dubbo/common/URL;
      28: astore_3
      29: aload_3
      30: invokevirtual #94                 // Method org/apache/dubbo/common/URL.getRemoteApplication:()Ljava/lang/String;
      33: astore        4
      35: aload         4
      37: invokestatic  #39                 // Method org/apache/dubbo/common/utils/StringUtils.isEmpty:(Ljava/lang/String;)Z
      40: ifeq          60
      43: getstatic     #7                  // Field logger:Lorg/apache/dubbo/common/logger/ErrorTypeAwareLogger;
      46: ldc           #95                 // String 2-12
      48: ldc           #96                 // String tag router get providerApplication is empty
      50: ldc           #27                 // String
      52: ldc           #97                 // String TagRouter must getConfig from or subscribe to a specific application, but the application in this TagRouter is not specified.
      54: invokeinterface #98,  5           // InterfaceMethod org/apache/dubbo/common/logger/ErrorTypeAwareLogger.error:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      59: return
      60: aload_0
      61: dup
      62: astore        5
      64: monitorenter
      65: aload         4
      67: aload_0
      68: getfield      #90                 // Field application:Ljava/lang/String;
      71: invokevirtual #87                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      74: ifne          202
      77: aload_0
      78: getfield      #90                 // Field application:Ljava/lang/String;
      81: invokestatic  #41                 // Method org/apache/dubbo/common/utils/StringUtils.isNotEmpty:(Ljava/lang/String;)Z
      84: ifeq          119
      87: aload_0
      88: invokevirtual #99                 // Method getRuleRepository:()Lorg/apache/dubbo/rpc/cluster/governance/GovernanceRuleRepository;
      91: new           #9                  // class java/lang/StringBuilder
      94: dup
      95: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      98: aload_0
      99: getfield      #90                 // Field application:Ljava/lang/String;
     102: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     105: ldc           #101                // String .tag-router
     107: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     110: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     113: aload_0
     114: invokeinterface #102,  3          // InterfaceMethod org/apache/dubbo/rpc/cluster/governance/GovernanceRuleRepository.removeListener:(Ljava/lang/String;Lorg/apache/dubbo/common/config/configcenter/ConfigurationListener;)V
     119: new           #9                  // class java/lang/StringBuilder
     122: dup
     123: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     126: aload         4
     128: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     131: ldc           #101                // String .tag-router
     133: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     136: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     139: astore        6
     141: aload_0
     142: invokevirtual #99                 // Method getRuleRepository:()Lorg/apache/dubbo/rpc/cluster/governance/GovernanceRuleRepository;
     145: aload         6
     147: aload_0
     148: invokeinterface #103,  3          // InterfaceMethod org/apache/dubbo/rpc/cluster/governance/GovernanceRuleRepository.addListener:(Ljava/lang/String;Lorg/apache/dubbo/common/config/configcenter/ConfigurationListener;)V
     153: aload_0
     154: aload         4
     156: putfield      #90                 // Field application:Ljava/lang/String;
     159: aload_0
     160: invokevirtual #99                 // Method getRuleRepository:()Lorg/apache/dubbo/rpc/cluster/governance/GovernanceRuleRepository;
     163: aload         6
     165: ldc           #105                // String dubbo
     167: invokeinterface #106,  3          // InterfaceMethod org/apache/dubbo/rpc/cluster/governance/GovernanceRuleRepository.getRule:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     172: astore        7
     174: aload         7
     176: invokestatic  #41                 // Method org/apache/dubbo/common/utils/StringUtils.isNotEmpty:(Ljava/lang/String;)Z
     179: ifeq          199
     182: aload_0
     183: new           #107                // class org/apache/dubbo/common/config/configcenter/ConfigChangedEvent
     186: dup
     187: aload         6
     189: ldc           #105                // String dubbo
     191: aload         7
     193: invokespecial #108                // Method org/apache/dubbo/common/config/configcenter/ConfigChangedEvent."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     196: invokevirtual #109                // Method process:(Lorg/apache/dubbo/common/config/configcenter/ConfigChangedEvent;)V
     199: goto          233
     202: aload_0
     203: getfield      #21                 // Field tagRouterRule:Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;
     206: ifnull        233
     209: aload_0
     210: getfield      #21                 // Field tagRouterRule:Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;
     213: invokevirtual #110                // Method org/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule.getRawRule:()Ljava/lang/String;
     216: invokestatic  #22                 // Method org/apache/dubbo/rpc/cluster/router/tag/model/TagRuleParser.parse:(Ljava/lang/String;)Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;
     219: astore        6
     221: aload         6
     223: aload_0
     224: invokevirtual #23                 // Method org/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule.init:(Lorg/apache/dubbo/rpc/cluster/router/tag/TagStateRouter;)V
     227: aload_0
     228: aload         6
     230: putfield      #21                 // Field tagRouterRule:Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;
     233: aload         5
     235: monitorexit
     236: goto          247
     239: astore        8
     241: aload         5
     243: monitorexit
     244: aload         8
     246: athrow
     247: return
    Exception table:
       from    to  target type
          65   236   239   any
         239   244   239   any

  public org.apache.dubbo.rpc.cluster.router.state.BitList<org.apache.dubbo.rpc.Invoker<T>> getInvokers();
    Code:
       0: aload_0
       1: getfield      #6                  // Field invokers:Lorg/apache/dubbo/rpc/cluster/router/state/BitList;
       4: areturn

  public void stop();
    Code:
       0: aload_0
       1: getfield      #90                 // Field application:Ljava/lang/String;
       4: invokestatic  #41                 // Method org/apache/dubbo/common/utils/StringUtils.isNotEmpty:(Ljava/lang/String;)Z
       7: ifeq          42
      10: aload_0
      11: invokevirtual #99                 // Method getRuleRepository:()Lorg/apache/dubbo/rpc/cluster/governance/GovernanceRuleRepository;
      14: new           #9                  // class java/lang/StringBuilder
      17: dup
      18: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      21: aload_0
      22: getfield      #90                 // Field application:Ljava/lang/String;
      25: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: ldc           #101                // String .tag-router
      30: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      36: aload_0
      37: invokeinterface #102,  3          // InterfaceMethod org/apache/dubbo/rpc/cluster/governance/GovernanceRuleRepository.removeListener:(Ljava/lang/String;Lorg/apache/dubbo/common/config/configcenter/ConfigurationListener;)V
      42: return

  public void setTagRouterRule(org.apache.dubbo.rpc.cluster.router.tag.model.TagRouterRule);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #21                 // Field tagRouterRule:Lorg/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule;
       5: return

  private static boolean lambda$filterInvoker$9(java.util.function.Predicate, org.apache.dubbo.rpc.Invoker);
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #111,  2          // InterfaceMethod java/util/function/Predicate.test:(Ljava/lang/Object;)Z
       7: ifne          14
      10: iconst_1
      11: goto          15
      14: iconst_0
      15: ireturn

  private static boolean lambda$filterUsingStaticTag$8(org.apache.dubbo.rpc.Invoker);
    Code:
       0: aload_0
       1: invokeinterface #93,  1           // InterfaceMethod org/apache/dubbo/rpc/Invoker.getUrl:()Lorg/apache/dubbo/common/URL;
       6: ldc           #37                 // String dubbo.tag
       8: invokevirtual #40                 // Method org/apache/dubbo/common/URL.getParameter:(Ljava/lang/String;)Ljava/lang/String;
      11: invokestatic  #39                 // Method org/apache/dubbo/common/utils/StringUtils.isEmpty:(Ljava/lang/String;)Z
      14: ireturn

  private static boolean lambda$filterUsingStaticTag$7(org.apache.dubbo.rpc.Invoker);
    Code:
       0: aload_0
       1: invokeinterface #93,  1           // InterfaceMethod org/apache/dubbo/rpc/Invoker.getUrl:()Lorg/apache/dubbo/common/URL;
       6: ldc           #37                 // String dubbo.tag
       8: invokevirtual #40                 // Method org/apache/dubbo/common/URL.getParameter:(Ljava/lang/String;)Ljava/lang/String;
      11: invokestatic  #39                 // Method org/apache/dubbo/common/utils/StringUtils.isEmpty:(Ljava/lang/String;)Z
      14: ireturn

  private static boolean lambda$filterUsingStaticTag$6(java.lang.String, org.apache.dubbo.rpc.Invoker);
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #93,  1           // InterfaceMethod org/apache/dubbo/rpc/Invoker.getUrl:()Lorg/apache/dubbo/common/URL;
       7: ldc           #37                 // String dubbo.tag
       9: invokevirtual #40                 // Method org/apache/dubbo/common/URL.getParameter:(Ljava/lang/String;)Ljava/lang/String;
      12: invokevirtual #87                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      15: ireturn

  private static boolean lambda$doRoute$5(org.apache.dubbo.rpc.Invoker);
    Code:
       0: aload_0
       1: invokeinterface #93,  1           // InterfaceMethod org/apache/dubbo/rpc/Invoker.getUrl:()Lorg/apache/dubbo/common/URL;
       6: ldc           #37                 // String dubbo.tag
       8: invokevirtual #40                 // Method org/apache/dubbo/common/URL.getParameter:(Ljava/lang/String;)Ljava/lang/String;
      11: astore_1
      12: aload_1
      13: invokestatic  #39                 // Method org/apache/dubbo/common/utils/StringUtils.isEmpty:(Ljava/lang/String;)Z
      16: ireturn

  private boolean lambda$doRoute$4(java.util.Set, org.apache.dubbo.rpc.Invoker);
    Code:
       0: aload_0
       1: aload_2
       2: invokeinterface #93,  1           // InterfaceMethod org/apache/dubbo/rpc/Invoker.getUrl:()Lorg/apache/dubbo/common/URL;
       7: aload_1
       8: invokespecial #112                // Method addressNotMatches:(Lorg/apache/dubbo/common/URL;Ljava/util/Set;)Z
      11: ireturn

  private static boolean lambda$doRoute$3(org.apache.dubbo.rpc.Invoker);
    Code:
       0: aload_0
       1: invokeinterface #93,  1           // InterfaceMethod org/apache/dubbo/rpc/Invoker.getUrl:()Lorg/apache/dubbo/common/URL;
       6: ldc           #37                 // String dubbo.tag
       8: invokevirtual #40                 // Method org/apache/dubbo/common/URL.getParameter:(Ljava/lang/String;)Ljava/lang/String;
      11: invokestatic  #39                 // Method org/apache/dubbo/common/utils/StringUtils.isEmpty:(Ljava/lang/String;)Z
      14: ireturn

  private boolean lambda$doRoute$2(org.apache.dubbo.rpc.cluster.router.tag.model.TagRouterRule, org.apache.dubbo.rpc.Invoker);
    Code:
       0: aload_0
       1: aload_2
       2: invokeinterface #93,  1           // InterfaceMethod org/apache/dubbo/rpc/Invoker.getUrl:()Lorg/apache/dubbo/common/URL;
       7: aload_1
       8: invokevirtual #57                 // Method org/apache/dubbo/rpc/cluster/router/tag/model/TagRouterRule.getAddresses:()Ljava/util/Set;
      11: invokespecial #112                // Method addressNotMatches:(Lorg/apache/dubbo/common/URL;Ljava/util/Set;)Z
      14: ireturn

  private static boolean lambda$doRoute$1(java.lang.String, org.apache.dubbo.rpc.Invoker);
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #93,  1           // InterfaceMethod org/apache/dubbo/rpc/Invoker.getUrl:()Lorg/apache/dubbo/common/URL;
       7: ldc           #37                 // String dubbo.tag
       9: invokevirtual #40                 // Method org/apache/dubbo/common/URL.getParameter:(Ljava/lang/String;)Ljava/lang/String;
      12: invokevirtual #87                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      15: ireturn

  private boolean lambda$doRoute$0(java.util.Set, org.apache.dubbo.rpc.Invoker);
    Code:
       0: aload_0
       1: aload_2
       2: invokeinterface #93,  1           // InterfaceMethod org/apache/dubbo/rpc/Invoker.getUrl:()Lorg/apache/dubbo/common/URL;
       7: aload_1
       8: invokespecial #113                // Method addressMatches:(Lorg/apache/dubbo/common/URL;Ljava/util/Set;)Z
      11: ireturn

  static {};
    Code:
       0: ldc           #100                // class org/apache/dubbo/rpc/cluster/router/tag/TagStateRouter
       2: invokestatic  #114                // Method org/apache/dubbo/common/logger/LoggerFactory.getErrorTypeAwareLogger:(Ljava/lang/Class;)Lorg/apache/dubbo/common/logger/ErrorTypeAwareLogger;
       5: putstatic     #7                  // Field logger:Lorg/apache/dubbo/common/logger/ErrorTypeAwareLogger;
       8: return
}
