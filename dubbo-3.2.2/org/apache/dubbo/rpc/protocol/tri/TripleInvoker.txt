Compiled from "TripleInvoker.java"
public class org.apache.dubbo.rpc.protocol.tri.TripleInvoker<T> extends org.apache.dubbo.rpc.protocol.AbstractInvoker<T> {
  private static final org.apache.dubbo.common.logger.ErrorTypeAwareLogger LOGGER;

  private final org.apache.dubbo.remoting.api.connection.AbstractConnectionClient connectionClient;

  private final java.util.concurrent.locks.ReentrantLock destroyLock;

  private final java.util.Set<org.apache.dubbo.rpc.Invoker<?>> invokers;

  private final java.util.concurrent.ExecutorService streamExecutor;

  private final java.lang.String acceptEncodings;

  private final org.apache.dubbo.rpc.protocol.tri.transport.TripleWriteQueue writeQueue;

  public org.apache.dubbo.rpc.protocol.tri.TripleInvoker(java.lang.Class<T>, org.apache.dubbo.common.URL, java.lang.String, org.apache.dubbo.remoting.api.connection.AbstractConnectionClient, java.util.Set<org.apache.dubbo.rpc.Invoker<?>>, java.util.concurrent.ExecutorService);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: iconst_3
       4: anewarray     #4                  // class java/lang/String
       7: dup
       8: iconst_0
       9: ldc           #5                  // String interface
      11: aastore
      12: dup
      13: iconst_1
      14: ldc           #6                  // String group
      16: aastore
      17: dup
      18: iconst_2
      19: ldc           #7                  // String token
      21: aastore
      22: invokespecial #8                  // Method org/apache/dubbo/rpc/protocol/AbstractInvoker."<init>":(Ljava/lang/Class;Lorg/apache/dubbo/common/URL;[Ljava/lang/String;)V
      25: aload_0
      26: new           #9                  // class java/util/concurrent/locks/ReentrantLock
      29: dup
      30: invokespecial #10                 // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      33: putfield      #11                 // Field destroyLock:Ljava/util/concurrent/locks/ReentrantLock;
      36: aload_0
      37: new           #12                 // class org/apache/dubbo/rpc/protocol/tri/transport/TripleWriteQueue
      40: dup
      41: sipush        256
      44: invokespecial #13                 // Method org/apache/dubbo/rpc/protocol/tri/transport/TripleWriteQueue."<init>":(I)V
      47: putfield      #14                 // Field writeQueue:Lorg/apache/dubbo/rpc/protocol/tri/transport/TripleWriteQueue;
      50: aload_0
      51: aload         5
      53: putfield      #15                 // Field invokers:Ljava/util/Set;
      56: aload_0
      57: aload         4
      59: putfield      #16                 // Field connectionClient:Lorg/apache/dubbo/remoting/api/connection/AbstractConnectionClient;
      62: aload_0
      63: aload_3
      64: putfield      #17                 // Field acceptEncodings:Ljava/lang/String;
      67: aload_0
      68: aload         6
      70: putfield      #18                 // Field streamExecutor:Ljava/util/concurrent/ExecutorService;
      73: return

  private static io.netty.util.AsciiString getSchemeFromUrl(org.apache.dubbo.common.URL);
    Code:
       0: aload_0
       1: ldc           #19                 // String ssl-enabled
       3: iconst_0
       4: invokevirtual #20                 // Method org/apache/dubbo/common/URL.getParameter:(Ljava/lang/String;Z)Z
       7: istore_1
       8: iload_1
       9: ifeq          18
      12: getstatic     #21                 // Field org/apache/dubbo/rpc/protocol/tri/TripleConstant.HTTPS_SCHEME:Lio/netty/util/AsciiString;
      15: goto          21
      18: getstatic     #22                 // Field org/apache/dubbo/rpc/protocol/tri/TripleConstant.HTTP_SCHEME:Lio/netty/util/AsciiString;
      21: areturn

  private static org.apache.dubbo.rpc.protocol.tri.compressor.Compressor getCompressorFromEnv();
    Code:
       0: invokestatic  #23                 // Method org/apache/dubbo/rpc/model/ApplicationModel.defaultModel:()Lorg/apache/dubbo/rpc/model/ApplicationModel;
       3: invokestatic  #24                 // Method org/apache/dubbo/common/config/ConfigurationUtils.getEnvConfiguration:(Lorg/apache/dubbo/rpc/model/ScopeModel;)Lorg/apache/dubbo/common/config/Configuration;
       6: astore_0
       7: aload_0
       8: ldc           #25                 // String dubbo.rpc.tri.compressor
      10: ldc           #27                 // String identity
      12: invokeinterface #28,  3           // InterfaceMethod org/apache/dubbo/common/config/Configuration.getString:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      17: astore_1
      18: invokestatic  #23                 // Method org/apache/dubbo/rpc/model/ApplicationModel.defaultModel:()Lorg/apache/dubbo/rpc/model/ApplicationModel;
      21: invokestatic  #29                 // Method org/apache/dubbo/rpc/model/ScopeModelUtil.getFrameworkModel:(Lorg/apache/dubbo/rpc/model/ScopeModel;)Lorg/apache/dubbo/rpc/model/FrameworkModel;
      24: aload_1
      25: invokestatic  #30                 // InterfaceMethod org/apache/dubbo/rpc/protocol/tri/compressor/Compressor.getCompressor:(Lorg/apache/dubbo/rpc/model/FrameworkModel;Ljava/lang/String;)Lorg/apache/dubbo/rpc/protocol/tri/compressor/Compressor;
      28: areturn

  protected org.apache.dubbo.rpc.Result doInvoke(org.apache.dubbo.rpc.Invocation);
    Code:
       0: aload_0
       1: getfield      #16                 // Field connectionClient:Lorg/apache/dubbo/remoting/api/connection/AbstractConnectionClient;
       4: invokevirtual #31                 // Method org/apache/dubbo/remoting/api/connection/AbstractConnectionClient.isConnected:()Z
       7: ifne          63
      10: new           #32                 // class java/util/concurrent/CompletableFuture
      13: dup
      14: invokespecial #33                 // Method java/util/concurrent/CompletableFuture."<init>":()V
      17: astore_2
      18: getstatic     #34                 // Field org/apache/dubbo/rpc/TriRpcStatus.UNAVAILABLE:Lorg/apache/dubbo/rpc/TriRpcStatus;
      21: ldc           #35                 // String upstream %s is unavailable
      23: iconst_1
      24: anewarray     #36                 // class java/lang/Object
      27: dup
      28: iconst_0
      29: aload_0
      30: invokevirtual #37                 // Method getUrl:()Lorg/apache/dubbo/common/URL;
      33: invokevirtual #38                 // Method org/apache/dubbo/common/URL.getAddress:()Ljava/lang/String;
      36: aastore
      37: invokestatic  #39                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      40: invokevirtual #40                 // Method org/apache/dubbo/rpc/TriRpcStatus.withDescription:(Ljava/lang/String;)Lorg/apache/dubbo/rpc/TriRpcStatus;
      43: invokevirtual #41                 // Method org/apache/dubbo/rpc/TriRpcStatus.asException:()Lorg/apache/dubbo/rpc/StatusRpcException;
      46: astore_3
      47: aload_2
      48: aload_3
      49: invokevirtual #42                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      52: pop
      53: new           #43                 // class org/apache/dubbo/rpc/AsyncRpcResult
      56: dup
      57: aload_2
      58: aload_1
      59: invokespecial #44                 // Method org/apache/dubbo/rpc/AsyncRpcResult."<init>":(Ljava/util/concurrent/CompletableFuture;Lorg/apache/dubbo/rpc/Invocation;)V
      62: areturn
      63: aload_1
      64: invokeinterface #45,  1           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getServiceModel:()Lorg/apache/dubbo/rpc/model/ServiceModel;
      69: ifnull        81
      72: aload_1
      73: invokeinterface #45,  1           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getServiceModel:()Lorg/apache/dubbo/rpc/model/ServiceModel;
      78: goto          88
      81: aload_0
      82: invokevirtual #37                 // Method getUrl:()Lorg/apache/dubbo/common/URL;
      85: invokevirtual #46                 // Method org/apache/dubbo/common/URL.getServiceModel:()Lorg/apache/dubbo/rpc/model/ServiceModel;
      88: checkcast     #47                 // class org/apache/dubbo/rpc/model/ConsumerModel
      91: checkcast     #47                 // class org/apache/dubbo/rpc/model/ConsumerModel
      94: astore_2
      95: aload_2
      96: invokevirtual #48                 // Method org/apache/dubbo/rpc/model/ConsumerModel.getServiceModel:()Lorg/apache/dubbo/rpc/model/ServiceDescriptor;
      99: astore_3
     100: aload_3
     101: aload_1
     102: invokeinterface #49,  1           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getMethodName:()Ljava/lang/String;
     107: aload_1
     108: invokeinterface #50,  1           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getParameterTypes:()[Ljava/lang/Class;
     113: invokeinterface #51,  3           // InterfaceMethod org/apache/dubbo/rpc/model/ServiceDescriptor.getMethod:(Ljava/lang/String;[Ljava/lang/Class;)Lorg/apache/dubbo/rpc/model/MethodDescriptor;
     118: astore        4
     120: aload         4
     122: aload_1
     123: invokestatic  #52                 // Method isSync:(Lorg/apache/dubbo/rpc/model/MethodDescriptor;Lorg/apache/dubbo/rpc/Invocation;)Z
     126: ifeq          139
     129: new           #53                 // class org/apache/dubbo/common/threadpool/ThreadlessExecutor
     132: dup
     133: invokespecial #54                 // Method org/apache/dubbo/common/threadpool/ThreadlessExecutor."<init>":()V
     136: goto          143
     139: aload_0
     140: getfield      #18                 // Field streamExecutor:Ljava/util/concurrent/ExecutorService;
     143: astore        5
     145: new           #55                 // class org/apache/dubbo/rpc/protocol/tri/call/TripleClientCall
     148: dup
     149: aload_0
     150: getfield      #16                 // Field connectionClient:Lorg/apache/dubbo/remoting/api/connection/AbstractConnectionClient;
     153: aload         5
     155: aload_0
     156: invokevirtual #37                 // Method getUrl:()Lorg/apache/dubbo/common/URL;
     159: invokevirtual #56                 // Method org/apache/dubbo/common/URL.getOrDefaultFrameworkModel:()Lorg/apache/dubbo/rpc/model/FrameworkModel;
     162: aload_0
     163: getfield      #14                 // Field writeQueue:Lorg/apache/dubbo/rpc/protocol/tri/transport/TripleWriteQueue;
     166: invokespecial #57                 // Method org/apache/dubbo/rpc/protocol/tri/call/TripleClientCall."<init>":(Lorg/apache/dubbo/remoting/api/connection/AbstractConnectionClient;Ljava/util/concurrent/Executor;Lorg/apache/dubbo/rpc/model/FrameworkModel;Lorg/apache/dubbo/rpc/protocol/tri/transport/TripleWriteQueue;)V
     169: astore        6
     171: getstatic     #58                 // Field org/apache/dubbo/rpc/protocol/tri/TripleInvoker$1.$SwitchMap$org$apache$dubbo$rpc$model$MethodDescriptor$RpcType:[I
     174: aload         4
     176: invokeinterface #59,  1           // InterfaceMethod org/apache/dubbo/rpc/model/MethodDescriptor.getRpcType:()Lorg/apache/dubbo/rpc/model/MethodDescriptor$RpcType;
     181: invokevirtual #60                 // Method org/apache/dubbo/rpc/model/MethodDescriptor$RpcType.ordinal:()I
     184: iaload
     185: tableswitch   { // 1 to 4
                     1: 216
                     2: 232
                     3: 246
                     4: 246
               default: 260
          }
     216: aload_0
     217: aload         4
     219: aload_1
     220: aload         6
     222: aload         5
     224: invokevirtual #61                 // Method invokeUnary:(Lorg/apache/dubbo/rpc/model/MethodDescriptor;Lorg/apache/dubbo/rpc/Invocation;Lorg/apache/dubbo/rpc/protocol/tri/call/ClientCall;Ljava/util/concurrent/Executor;)Lorg/apache/dubbo/rpc/AsyncRpcResult;
     227: astore        7
     229: goto          270
     232: aload_0
     233: aload         4
     235: aload_1
     236: aload         6
     238: invokevirtual #62                 // Method invokeServerStream:(Lorg/apache/dubbo/rpc/model/MethodDescriptor;Lorg/apache/dubbo/rpc/Invocation;Lorg/apache/dubbo/rpc/protocol/tri/call/ClientCall;)Lorg/apache/dubbo/rpc/AsyncRpcResult;
     241: astore        7
     243: goto          270
     246: aload_0
     247: aload         4
     249: aload_1
     250: aload         6
     252: invokevirtual #63                 // Method invokeBiOrClientStream:(Lorg/apache/dubbo/rpc/model/MethodDescriptor;Lorg/apache/dubbo/rpc/Invocation;Lorg/apache/dubbo/rpc/protocol/tri/call/ClientCall;)Lorg/apache/dubbo/rpc/AsyncRpcResult;
     255: astore        7
     257: goto          270
     260: new           #64                 // class java/lang/IllegalStateException
     263: dup
     264: ldc           #65                 // String Can not reach here
     266: invokespecial #66                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     269: athrow
     270: aload         7
     272: areturn
     273: astore        8
     275: getstatic     #68                 // Field org/apache/dubbo/rpc/TriRpcStatus.INTERNAL:Lorg/apache/dubbo/rpc/TriRpcStatus;
     278: aload         8
     280: invokevirtual #69                 // Method org/apache/dubbo/rpc/TriRpcStatus.withCause:(Ljava/lang/Throwable;)Lorg/apache/dubbo/rpc/TriRpcStatus;
     283: ldc           #70                 // String Call aborted cause client exception
     285: invokevirtual #40                 // Method org/apache/dubbo/rpc/TriRpcStatus.withDescription:(Ljava/lang/String;)Lorg/apache/dubbo/rpc/TriRpcStatus;
     288: astore        9
     290: aload         9
     292: invokevirtual #41                 // Method org/apache/dubbo/rpc/TriRpcStatus.asException:()Lorg/apache/dubbo/rpc/StatusRpcException;
     295: astore        10
     297: aload         6
     299: aload         10
     301: invokeinterface #71,  2           // InterfaceMethod org/apache/dubbo/rpc/protocol/tri/call/ClientCall.cancelByLocal:(Ljava/lang/Throwable;)V
     306: goto          329
     309: astore        11
     311: getstatic     #72                 // Field LOGGER:Lorg/apache/dubbo/common/logger/ErrorTypeAwareLogger;
     314: ldc           #73                 // String 4-11
     316: ldc           #74                 // String
     318: ldc           #74                 // String
     320: ldc           #75                 // String Cancel triple request failed
     322: aload         11
     324: invokeinterface #76,  6           // InterfaceMethod org/apache/dubbo/common/logger/ErrorTypeAwareLogger.error:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
     329: new           #32                 // class java/util/concurrent/CompletableFuture
     332: dup
     333: invokespecial #33                 // Method java/util/concurrent/CompletableFuture."<init>":()V
     336: astore        11
     338: aload         11
     340: aload         10
     342: invokevirtual #42                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
     345: pop
     346: new           #43                 // class org/apache/dubbo/rpc/AsyncRpcResult
     349: dup
     350: aload         11
     352: aload_1
     353: invokespecial #44                 // Method org/apache/dubbo/rpc/AsyncRpcResult."<init>":(Ljava/util/concurrent/CompletableFuture;Lorg/apache/dubbo/rpc/Invocation;)V
     356: areturn
    Exception table:
       from    to  target type
         171   272   273   Class java/lang/Throwable
         297   306   309   Class java/lang/Throwable

  private static boolean isSync(org.apache.dubbo.rpc.model.MethodDescriptor, org.apache.dubbo.rpc.Invocation);
    Code:
       0: aload_1
       1: instanceof    #77                 // class org/apache/dubbo/rpc/RpcInvocation
       4: ifne          9
       7: iconst_0
       8: ireturn
       9: aload_1
      10: checkcast     #77                 // class org/apache/dubbo/rpc/RpcInvocation
      13: astore_2
      14: aload_0
      15: invokeinterface #59,  1           // InterfaceMethod org/apache/dubbo/rpc/model/MethodDescriptor.getRpcType:()Lorg/apache/dubbo/rpc/model/MethodDescriptor$RpcType;
      20: astore_3
      21: getstatic     #78                 // Field org/apache/dubbo/rpc/model/MethodDescriptor$RpcType.UNARY:Lorg/apache/dubbo/rpc/model/MethodDescriptor$RpcType;
      24: aload_3
      25: invokevirtual #79                 // Method org/apache/dubbo/rpc/model/MethodDescriptor$RpcType.equals:(Ljava/lang/Object;)Z
      28: ifeq          48
      31: getstatic     #80                 // Field org/apache/dubbo/rpc/InvokeMode.SYNC:Lorg/apache/dubbo/rpc/InvokeMode;
      34: aload_2
      35: invokevirtual #81                 // Method org/apache/dubbo/rpc/RpcInvocation.getInvokeMode:()Lorg/apache/dubbo/rpc/InvokeMode;
      38: invokevirtual #82                 // Method org/apache/dubbo/rpc/InvokeMode.equals:(Ljava/lang/Object;)Z
      41: ifeq          48
      44: iconst_1
      45: goto          49
      48: iconst_0
      49: ireturn

  org.apache.dubbo.rpc.AsyncRpcResult invokeServerStream(org.apache.dubbo.rpc.model.MethodDescriptor, org.apache.dubbo.rpc.Invocation, org.apache.dubbo.rpc.protocol.tri.call.ClientCall);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aconst_null
       4: invokevirtual #83                 // Method createRequest:(Lorg/apache/dubbo/rpc/model/MethodDescriptor;Lorg/apache/dubbo/rpc/Invocation;Ljava/lang/Integer;)Lorg/apache/dubbo/rpc/protocol/tri/RequestMetadata;
       7: astore        4
       9: aload_2
      10: invokeinterface #84,  1           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getArguments:()[Ljava/lang/Object;
      15: iconst_1
      16: aaload
      17: checkcast     #85                 // class org/apache/dubbo/common/stream/StreamObserver
      20: astore        5
      22: aload_0
      23: aload_3
      24: aload         4
      26: aload         5
      28: invokevirtual #86                 // Method streamCall:(Lorg/apache/dubbo/rpc/protocol/tri/call/ClientCall;Lorg/apache/dubbo/rpc/protocol/tri/RequestMetadata;Lorg/apache/dubbo/common/stream/StreamObserver;)Lorg/apache/dubbo/common/stream/StreamObserver;
      31: astore        6
      33: aload         6
      35: aload_2
      36: invokeinterface #84,  1           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getArguments:()[Ljava/lang/Object;
      41: iconst_0
      42: aaload
      43: invokeinterface #87,  2           // InterfaceMethod org/apache/dubbo/common/stream/StreamObserver.onNext:(Ljava/lang/Object;)V
      48: aload         6
      50: invokeinterface #88,  1           // InterfaceMethod org/apache/dubbo/common/stream/StreamObserver.onCompleted:()V
      55: new           #43                 // class org/apache/dubbo/rpc/AsyncRpcResult
      58: dup
      59: new           #89                 // class org/apache/dubbo/rpc/AppResponse
      62: dup
      63: invokespecial #90                 // Method org/apache/dubbo/rpc/AppResponse."<init>":()V
      66: invokestatic  #91                 // Method java/util/concurrent/CompletableFuture.completedFuture:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      69: aload_2
      70: invokespecial #44                 // Method org/apache/dubbo/rpc/AsyncRpcResult."<init>":(Ljava/util/concurrent/CompletableFuture;Lorg/apache/dubbo/rpc/Invocation;)V
      73: areturn

  org.apache.dubbo.rpc.AsyncRpcResult invokeBiOrClientStream(org.apache.dubbo.rpc.model.MethodDescriptor, org.apache.dubbo.rpc.Invocation, org.apache.dubbo.rpc.protocol.tri.call.ClientCall);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aconst_null
       4: invokevirtual #83                 // Method createRequest:(Lorg/apache/dubbo/rpc/model/MethodDescriptor;Lorg/apache/dubbo/rpc/Invocation;Ljava/lang/Integer;)Lorg/apache/dubbo/rpc/protocol/tri/RequestMetadata;
       7: astore        5
       9: aload_2
      10: invokeinterface #84,  1           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getArguments:()[Ljava/lang/Object;
      15: iconst_0
      16: aaload
      17: checkcast     #85                 // class org/apache/dubbo/common/stream/StreamObserver
      20: astore        6
      22: aload_0
      23: aload_3
      24: aload         5
      26: aload         6
      28: invokevirtual #86                 // Method streamCall:(Lorg/apache/dubbo/rpc/protocol/tri/call/ClientCall;Lorg/apache/dubbo/rpc/protocol/tri/RequestMetadata;Lorg/apache/dubbo/common/stream/StreamObserver;)Lorg/apache/dubbo/common/stream/StreamObserver;
      31: astore        7
      33: new           #43                 // class org/apache/dubbo/rpc/AsyncRpcResult
      36: dup
      37: new           #89                 // class org/apache/dubbo/rpc/AppResponse
      40: dup
      41: aload         7
      43: invokespecial #92                 // Method org/apache/dubbo/rpc/AppResponse."<init>":(Ljava/lang/Object;)V
      46: invokestatic  #91                 // Method java/util/concurrent/CompletableFuture.completedFuture:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      49: aload_2
      50: invokespecial #44                 // Method org/apache/dubbo/rpc/AsyncRpcResult."<init>":(Ljava/util/concurrent/CompletableFuture;Lorg/apache/dubbo/rpc/Invocation;)V
      53: astore        4
      55: aload         4
      57: areturn

  org.apache.dubbo.common.stream.StreamObserver<java.lang.Object> streamCall(org.apache.dubbo.rpc.protocol.tri.call.ClientCall, org.apache.dubbo.rpc.protocol.tri.RequestMetadata, org.apache.dubbo.common.stream.StreamObserver<java.lang.Object>);
    Code:
       0: new           #93                 // class org/apache/dubbo/rpc/protocol/tri/call/ObserverToClientCallListenerAdapter
       3: dup
       4: aload_3
       5: invokespecial #94                 // Method org/apache/dubbo/rpc/protocol/tri/call/ObserverToClientCallListenerAdapter."<init>":(Lorg/apache/dubbo/common/stream/StreamObserver;)V
       8: astore        4
      10: aload_1
      11: aload_2
      12: aload         4
      14: invokeinterface #95,  3           // InterfaceMethod org/apache/dubbo/rpc/protocol/tri/call/ClientCall.start:(Lorg/apache/dubbo/rpc/protocol/tri/RequestMetadata;Lorg/apache/dubbo/rpc/protocol/tri/call/ClientCall$Listener;)Lorg/apache/dubbo/common/stream/StreamObserver;
      19: astore        5
      21: aload_3
      22: instanceof    #96                 // class org/apache/dubbo/rpc/protocol/tri/CancelableStreamObserver
      25: ifeq          83
      28: new           #97                 // class org/apache/dubbo/rpc/CancellationContext
      31: dup
      32: invokespecial #98                 // Method org/apache/dubbo/rpc/CancellationContext."<init>":()V
      35: astore        6
      37: aload_3
      38: checkcast     #96                 // class org/apache/dubbo/rpc/protocol/tri/CancelableStreamObserver
      41: astore        7
      43: aload         7
      45: aload         6
      47: invokevirtual #99                 // Method org/apache/dubbo/rpc/protocol/tri/CancelableStreamObserver.setCancellationContext:(Lorg/apache/dubbo/rpc/CancellationContext;)V
      50: aload         6
      52: aload_1
      53: invokedynamic #100,  0            // InvokeDynamic #0:cancelled:(Lorg/apache/dubbo/rpc/protocol/tri/call/ClientCall;)Lorg/apache/dubbo/rpc/CancellationListener;
      58: invokevirtual #101                // Method org/apache/dubbo/rpc/CancellationContext.addListener:(Lorg/apache/dubbo/rpc/CancellationListener;)V
      61: aload         4
      63: aload         7
      65: invokedynamic #102,  0            // InvokeDynamic #1:accept:(Lorg/apache/dubbo/rpc/protocol/tri/CancelableStreamObserver;)Ljava/util/function/Consumer;
      70: invokevirtual #103                // Method org/apache/dubbo/rpc/protocol/tri/call/ObserverToClientCallListenerAdapter.setOnStartConsumer:(Ljava/util/function/Consumer;)V
      73: aload         7
      75: aload         5
      77: checkcast     #104                // class org/apache/dubbo/rpc/protocol/tri/observer/ClientCallToObserverAdapter
      80: invokevirtual #105                // Method org/apache/dubbo/rpc/protocol/tri/CancelableStreamObserver.beforeStart:(Lorg/apache/dubbo/rpc/protocol/tri/observer/ClientCallToObserverAdapter;)V
      83: aload         5
      85: areturn

  org.apache.dubbo.rpc.AsyncRpcResult invokeUnary(org.apache.dubbo.rpc.model.MethodDescriptor, org.apache.dubbo.rpc.Invocation, org.apache.dubbo.rpc.protocol.tri.call.ClientCall, java.util.concurrent.Executor);
    Code:
       0: aload_0
       1: invokevirtual #37                 // Method getUrl:()Lorg/apache/dubbo/common/URL;
       4: aload_2
       5: aload_2
       6: invokeinterface #49,  1           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getMethodName:()Ljava/lang/String;
      11: ldc2_w        #106                // long 3000l
      14: invokestatic  #108                // Method org/apache/dubbo/rpc/support/RpcUtils.calculateTimeout:(Lorg/apache/dubbo/common/URL;Lorg/apache/dubbo/rpc/Invocation;Ljava/lang/String;J)I
      17: istore        5
      19: iload         5
      21: ifgt          81
      24: new           #109                // class org/apache/dubbo/rpc/RpcException
      27: dup
      28: bipush        8
      30: new           #110                // class java/lang/StringBuilder
      33: dup
      34: invokespecial #111                // Method java/lang/StringBuilder."<init>":()V
      37: ldc           #112                // String No time left for making the following call:
      39: invokevirtual #113                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: aload_2
      43: invokeinterface #114,  1          // InterfaceMethod org/apache/dubbo/rpc/Invocation.getServiceName:()Ljava/lang/String;
      48: invokevirtual #113                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      51: ldc           #115                // String .
      53: invokevirtual #113                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      56: aload_2
      57: invokeinterface #49,  1           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getMethodName:()Ljava/lang/String;
      62: invokevirtual #113                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: ldc           #116                // String , terminate directly.
      67: invokevirtual #113                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      70: invokevirtual #117                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      73: invokespecial #118                // Method org/apache/dubbo/rpc/RpcException."<init>":(ILjava/lang/String;)V
      76: aload_2
      77: invokestatic  #119                // Method org/apache/dubbo/rpc/AsyncRpcResult.newDefaultAsyncResult:(Ljava/lang/Throwable;Lorg/apache/dubbo/rpc/Invocation;)Lorg/apache/dubbo/rpc/AsyncRpcResult;
      80: areturn
      81: aload_2
      82: ldc           #120                // String timeout
      84: iload         5
      86: invokestatic  #121                // Method java/lang/String.valueOf:(I)Ljava/lang/String;
      89: invokeinterface #122,  3          // InterfaceMethod org/apache/dubbo/rpc/Invocation.setAttachment:(Ljava/lang/String;Ljava/lang/String;)V
      94: aload_0
      95: invokevirtual #37                 // Method getUrl:()Lorg/apache/dubbo/common/URL;
      98: invokevirtual #123                // Method org/apache/dubbo/common/URL.getPath:()Ljava/lang/String;
     101: aload_1
     102: invokeinterface #124,  1          // InterfaceMethod org/apache/dubbo/rpc/model/MethodDescriptor.getMethodName:()Ljava/lang/String;
     107: aload_0
     108: invokevirtual #37                 // Method getUrl:()Lorg/apache/dubbo/common/URL;
     111: invokevirtual #38                 // Method org/apache/dubbo/common/URL.getAddress:()Ljava/lang/String;
     114: iload         5
     116: aload         4
     118: invokestatic  #125                // Method org/apache/dubbo/rpc/protocol/tri/DeadlineFuture.newFuture:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ILjava/util/concurrent/Executor;)Lorg/apache/dubbo/rpc/protocol/tri/DeadlineFuture;
     121: astore        7
     123: aload_0
     124: aload_1
     125: aload_2
     126: iload         5
     128: invokestatic  #126                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     131: invokevirtual #83                 // Method createRequest:(Lorg/apache/dubbo/rpc/model/MethodDescriptor;Lorg/apache/dubbo/rpc/Invocation;Ljava/lang/Integer;)Lorg/apache/dubbo/rpc/protocol/tri/RequestMetadata;
     134: astore        8
     136: aload_1
     137: instanceof    #127                // class org/apache/dubbo/rpc/model/StubMethodDescriptor
     140: ifeq          156
     143: aload_2
     144: invokeinterface #84,  1           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getArguments:()[Ljava/lang/Object;
     149: iconst_0
     150: aaload
     151: astore        9
     153: goto          164
     156: aload_2
     157: invokeinterface #84,  1           // InterfaceMethod org/apache/dubbo/rpc/Invocation.getArguments:()[Ljava/lang/Object;
     162: astore        9
     164: new           #43                 // class org/apache/dubbo/rpc/AsyncRpcResult
     167: dup
     168: aload         7
     170: aload_2
     171: invokespecial #44                 // Method org/apache/dubbo/rpc/AsyncRpcResult."<init>":(Ljava/util/concurrent/CompletableFuture;Lorg/apache/dubbo/rpc/Invocation;)V
     174: astore        6
     176: invokestatic  #128                // Method org/apache/dubbo/rpc/FutureContext.getContext:()Lorg/apache/dubbo/rpc/FutureContext;
     179: aload         7
     181: invokevirtual #129                // Method org/apache/dubbo/rpc/FutureContext.setCompatibleFuture:(Ljava/util/concurrent/CompletableFuture;)V
     184: aload         6
     186: aload         4
     188: invokevirtual #130                // Method org/apache/dubbo/rpc/AsyncRpcResult.setExecutor:(Ljava/util/concurrent/Executor;)V
     191: new           #131                // class org/apache/dubbo/rpc/protocol/tri/call/UnaryClientCallListener
     194: dup
     195: aload         7
     197: invokespecial #132                // Method org/apache/dubbo/rpc/protocol/tri/call/UnaryClientCallListener."<init>":(Lorg/apache/dubbo/rpc/protocol/tri/DeadlineFuture;)V
     200: astore        10
     202: aload_3
     203: aload         8
     205: aload         10
     207: invokeinterface #95,  3           // InterfaceMethod org/apache/dubbo/rpc/protocol/tri/call/ClientCall.start:(Lorg/apache/dubbo/rpc/protocol/tri/RequestMetadata;Lorg/apache/dubbo/rpc/protocol/tri/call/ClientCall$Listener;)Lorg/apache/dubbo/common/stream/StreamObserver;
     212: astore        11
     214: aload         11
     216: aload         9
     218: invokeinterface #87,  2           // InterfaceMethod org/apache/dubbo/common/stream/StreamObserver.onNext:(Ljava/lang/Object;)V
     223: aload         11
     225: invokeinterface #88,  1           // InterfaceMethod org/apache/dubbo/common/stream/StreamObserver.onCompleted:()V
     230: aload         6
     232: areturn

  org.apache.dubbo.rpc.protocol.tri.RequestMetadata createRequest(org.apache.dubbo.rpc.model.MethodDescriptor, org.apache.dubbo.rpc.Invocation, java.lang.Integer);
    Code:
       0: aload_2
       1: invokestatic  #133                // Method org/apache/dubbo/rpc/support/RpcUtils.getMethodName:(Lorg/apache/dubbo/rpc/Invocation;)Ljava/lang/String;
       4: astore        4
       6: aload_1
       7: new           #110                // class java/lang/StringBuilder
      10: dup
      11: invokespecial #111                // Method java/lang/StringBuilder."<init>":()V
      14: ldc           #134                // String MethodDescriptor not found for
      16: invokevirtual #113                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: aload         4
      21: invokevirtual #113                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: ldc           #135                // String  params:
      26: invokevirtual #113                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: aload_2
      30: invokeinterface #136,  1          // InterfaceMethod org/apache/dubbo/rpc/Invocation.getCompatibleParamSignatures:()[Ljava/lang/String;
      35: invokestatic  #137                // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
      38: invokevirtual #113                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      41: invokevirtual #117                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      44: invokestatic  #138                // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      47: pop
      48: new           #139                // class org/apache/dubbo/rpc/protocol/tri/RequestMetadata
      51: dup
      52: invokespecial #140                // Method org/apache/dubbo/rpc/protocol/tri/RequestMetadata."<init>":()V
      55: astore        5
      57: aload_0
      58: invokevirtual #37                 // Method getUrl:()Lorg/apache/dubbo/common/URL;
      61: astore        6
      63: aload_1
      64: instanceof    #141                // class org/apache/dubbo/rpc/model/PackableMethod
      67: ifeq          82
      70: aload         5
      72: aload_1
      73: checkcast     #141                // class org/apache/dubbo/rpc/model/PackableMethod
      76: putfield      #142                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.packableMethod:Lorg/apache/dubbo/rpc/model/PackableMethod;
      79: goto          130
      82: aload         5
      84: aload         6
      86: invokevirtual #56                 // Method org/apache/dubbo/common/URL.getOrDefaultFrameworkModel:()Lorg/apache/dubbo/rpc/model/FrameworkModel;
      89: ldc           #143                // class org/apache/dubbo/rpc/model/PackableMethodFactory
      91: invokevirtual #144                // Method org/apache/dubbo/rpc/model/FrameworkModel.getExtensionLoader:(Ljava/lang/Class;)Lorg/apache/dubbo/common/extension/ExtensionLoader;
      94: aload         6
      96: invokevirtual #145                // Method org/apache/dubbo/common/URL.getApplicationModel:()Lorg/apache/dubbo/rpc/model/ApplicationModel;
      99: invokestatic  #146                // Method org/apache/dubbo/common/config/ConfigurationUtils.getGlobalConfiguration:(Lorg/apache/dubbo/rpc/model/ScopeModel;)Lorg/apache/dubbo/common/config/Configuration;
     102: ldc           #147                // String dubbo.application.parameters.serialize.packable.factory
     104: ldc           #148                // String default
     106: invokeinterface #28,  3           // InterfaceMethod org/apache/dubbo/common/config/Configuration.getString:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     111: invokevirtual #149                // Method org/apache/dubbo/common/extension/ExtensionLoader.getExtension:(Ljava/lang/String;)Ljava/lang/Object;
     114: checkcast     #143                // class org/apache/dubbo/rpc/model/PackableMethodFactory
     117: aload_1
     118: aload         6
     120: ldc           #151                // String application/grpc+proto
     122: invokeinterface #152,  4          // InterfaceMethod org/apache/dubbo/rpc/model/PackableMethodFactory.create:(Lorg/apache/dubbo/rpc/model/MethodDescriptor;Lorg/apache/dubbo/common/URL;Ljava/lang/String;)Lorg/apache/dubbo/rpc/model/PackableMethod;
     127: putfield      #142                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.packableMethod:Lorg/apache/dubbo/rpc/model/PackableMethod;
     130: aload         5
     132: getstatic     #153                // Field org/apache/dubbo/rpc/protocol/tri/TripleProtocol.CONVERT_NO_LOWER_HEADER:Z
     135: putfield      #154                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.convertNoLowerHeader:Z
     138: aload         5
     140: getstatic     #155                // Field org/apache/dubbo/rpc/protocol/tri/TripleProtocol.IGNORE_1_0_0_VERSION:Z
     143: putfield      #156                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.ignoreDefaultVersion:Z
     146: aload         5
     148: aload_1
     149: putfield      #157                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.method:Lorg/apache/dubbo/rpc/model/MethodDescriptor;
     152: aload         5
     154: aload         6
     156: invokestatic  #158                // Method getSchemeFromUrl:(Lorg/apache/dubbo/common/URL;)Lio/netty/util/AsciiString;
     159: putfield      #159                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.scheme:Lio/netty/util/AsciiString;
     162: aload         5
     164: invokestatic  #160                // Method getCompressorFromEnv:()Lorg/apache/dubbo/rpc/protocol/tri/compressor/Compressor;
     167: putfield      #161                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.compressor:Lorg/apache/dubbo/rpc/protocol/tri/compressor/Compressor;
     170: aload         5
     172: invokestatic  #162                // Method org/apache/dubbo/rpc/RpcContext.getCancellationContext:()Lorg/apache/dubbo/rpc/CancellationContext;
     175: putfield      #163                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.cancellationContext:Lorg/apache/dubbo/rpc/CancellationContext;
     178: aload         5
     180: aload         6
     182: invokevirtual #38                 // Method org/apache/dubbo/common/URL.getAddress:()Ljava/lang/String;
     185: putfield      #164                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.address:Ljava/lang/String;
     188: aload         5
     190: aload         6
     192: invokevirtual #123                // Method org/apache/dubbo/common/URL.getPath:()Ljava/lang/String;
     195: putfield      #165                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.service:Ljava/lang/String;
     198: aload         5
     200: aload         6
     202: invokevirtual #166                // Method org/apache/dubbo/common/URL.getGroup:()Ljava/lang/String;
     205: putfield      #167                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.group:Ljava/lang/String;
     208: aload         5
     210: aload         6
     212: invokevirtual #168                // Method org/apache/dubbo/common/URL.getVersion:()Ljava/lang/String;
     215: putfield      #169                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.version:Ljava/lang/String;
     218: aload         5
     220: aload_0
     221: getfield      #17                 // Field acceptEncodings:Ljava/lang/String;
     224: putfield      #170                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.acceptEncoding:Ljava/lang/String;
     227: aload_3
     228: ifnull        255
     231: aload         5
     233: new           #110                // class java/lang/StringBuilder
     236: dup
     237: invokespecial #111                // Method java/lang/StringBuilder."<init>":()V
     240: aload_3
     241: invokevirtual #171                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     244: ldc           #172                // String m
     246: invokevirtual #113                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     249: invokevirtual #117                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     252: putfield      #173                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.timeout:Ljava/lang/String;
     255: aload_2
     256: ldc           #174                // String application
     258: invokeinterface #175,  2          // InterfaceMethod org/apache/dubbo/rpc/Invocation.getObjectAttachmentWithoutConvert:(Ljava/lang/String;)Ljava/lang/Object;
     263: checkcast     #4                  // class java/lang/String
     266: astore        7
     268: aload         7
     270: ifnonnull     286
     273: aload_2
     274: ldc           #176                // String remote.application
     276: invokeinterface #175,  2          // InterfaceMethod org/apache/dubbo/rpc/Invocation.getObjectAttachmentWithoutConvert:(Ljava/lang/String;)Ljava/lang/Object;
     281: checkcast     #4                  // class java/lang/String
     284: astore        7
     286: aload         5
     288: aload         7
     290: putfield      #177                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.application:Ljava/lang/String;
     293: aload         5
     295: aload_2
     296: invokeinterface #178,  1          // InterfaceMethod org/apache/dubbo/rpc/Invocation.getObjectAttachments:()Ljava/util/Map;
     301: putfield      #179                // Field org/apache/dubbo/rpc/protocol/tri/RequestMetadata.attachments:Ljava/util/Map;
     304: aload         5
     306: areturn

  public boolean isAvailable();
    Code:
       0: aload_0
       1: invokespecial #180                // Method org/apache/dubbo/rpc/protocol/AbstractInvoker.isAvailable:()Z
       4: ifne          9
       7: iconst_0
       8: ireturn
       9: aload_0
      10: getfield      #16                 // Field connectionClient:Lorg/apache/dubbo/remoting/api/connection/AbstractConnectionClient;
      13: invokevirtual #31                 // Method org/apache/dubbo/remoting/api/connection/AbstractConnectionClient.isConnected:()Z
      16: ireturn

  public void destroy();
    Code:
       0: aload_0
       1: invokespecial #181                // Method org/apache/dubbo/rpc/protocol/AbstractInvoker.isDestroyed:()Z
       4: ifne          102
       7: aload_0
       8: getfield      #11                 // Field destroyLock:Ljava/util/concurrent/locks/ReentrantLock;
      11: invokevirtual #182                // Method java/util/concurrent/locks/ReentrantLock.lock:()V
      14: aload_0
      15: invokespecial #181                // Method org/apache/dubbo/rpc/protocol/AbstractInvoker.isDestroyed:()Z
      18: ifeq          29
      21: aload_0
      22: getfield      #11                 // Field destroyLock:Ljava/util/concurrent/locks/ReentrantLock;
      25: invokevirtual #183                // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      28: return
      29: aload_0
      30: invokespecial #184                // Method org/apache/dubbo/rpc/protocol/AbstractInvoker.destroy:()V
      33: aload_0
      34: getfield      #15                 // Field invokers:Ljava/util/Set;
      37: ifnull        51
      40: aload_0
      41: getfield      #15                 // Field invokers:Ljava/util/Set;
      44: aload_0
      45: invokeinterface #185,  2          // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
      50: pop
      51: aload_0
      52: getfield      #16                 // Field connectionClient:Lorg/apache/dubbo/remoting/api/connection/AbstractConnectionClient;
      55: invokevirtual #186                // Method org/apache/dubbo/remoting/api/connection/AbstractConnectionClient.release:()Z
      58: pop
      59: goto          82
      62: astore_1
      63: getstatic     #187                // Field logger:Lorg/apache/dubbo/common/logger/ErrorTypeAwareLogger;
      66: ldc           #188                // String 4-17
      68: ldc           #74                 // String
      70: ldc           #74                 // String
      72: aload_1
      73: invokevirtual #189                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      76: aload_1
      77: invokeinterface #190,  6          // InterfaceMethod org/apache/dubbo/common/logger/ErrorTypeAwareLogger.warn:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
      82: aload_0
      83: getfield      #11                 // Field destroyLock:Ljava/util/concurrent/locks/ReentrantLock;
      86: invokevirtual #183                // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      89: goto          102
      92: astore_2
      93: aload_0
      94: getfield      #11                 // Field destroyLock:Ljava/util/concurrent/locks/ReentrantLock;
      97: invokevirtual #183                // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     100: aload_2
     101: athrow
     102: return
    Exception table:
       from    to  target type
          51    59    62   Class java/lang/Throwable
          14    21    92   any
          29    82    92   any

  private static void lambda$streamCall$1(org.apache.dubbo.rpc.protocol.tri.CancelableStreamObserver, org.apache.dubbo.rpc.protocol.tri.call.ClientCall);
    Code:
       0: aload_0
       1: invokevirtual #191                // Method org/apache/dubbo/rpc/protocol/tri/CancelableStreamObserver.startRequest:()V
       4: return

  private static void lambda$streamCall$0(org.apache.dubbo.rpc.protocol.tri.call.ClientCall, org.apache.dubbo.rpc.RpcServiceContext);
    Code:
       0: aload_0
       1: new           #64                 // class java/lang/IllegalStateException
       4: dup
       5: ldc           #192                // String Canceled by app
       7: invokespecial #66                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      10: invokeinterface #71,  2           // InterfaceMethod org/apache/dubbo/rpc/protocol/tri/call/ClientCall.cancelByLocal:(Ljava/lang/Throwable;)V
      15: return

  static {};
    Code:
       0: ldc           #193                // class org/apache/dubbo/rpc/protocol/tri/TripleInvoker
       2: invokestatic  #194                // Method org/apache/dubbo/common/logger/LoggerFactory.getErrorTypeAwareLogger:(Ljava/lang/Class;)Lorg/apache/dubbo/common/logger/ErrorTypeAwareLogger;
       5: putstatic     #72                 // Field LOGGER:Lorg/apache/dubbo/common/logger/ErrorTypeAwareLogger;
       8: return
}
